<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Source: src/FortniteShop.js</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="",baseURL=(locationPathname=document.location.pathname).substr(0,locationPathname.lastIndexOf("/")+1)</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body class="dark" data-theme="dark"><div class="sidebar-container"><div class="sidebar" id="sidebar"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="X6qE5aHnIDlk7nsLtQz6N"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="Canvacard.html">Canvacard</a></div><div class="sidebar-section-children"><a href="FortniteShop.html">FortniteShop</a></div><div class="sidebar-section-children"><a href="FortniteStats.html">FortniteStats</a></div><div class="sidebar-section-children"><a href="Leaver.html">Leaver</a></div><div class="sidebar-section-children"><a href="Rank.html">Rank</a></div><div class="sidebar-section-children"><a href="Spotify.html">Spotify</a></div><div class="sidebar-section-children"><a href="Util.html">Util</a></div><div class="sidebar-section-children"><a href="Util.html">Util</a></div><div class="sidebar-section-children"><a href="Welcomer.html">Welcomer</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="yIGcSZLe2m4jkjvfzjzy2"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#CanvacardRankData">CanvacardRankData</a></div><div class="sidebar-section-children"><a href="global.html#ConvolutionMatrix">ConvolutionMatrix</a></div><div class="sidebar-section-children"><a href="global.html#Plugins">Plugins</a></div><div class="sidebar-section-children"><a href="global.html#SpotifyDataBG">SpotifyDataBG</a></div><div class="sidebar-section-children"><a href="global.html#SpotifyProgressBarData">SpotifyProgressBarData</a></div><div class="sidebar-section-children"><a href="global.html#applyText">applyText</a></div><div class="sidebar-section-children"><a href="global.html#formatVariable">formatVariable</a></div><div class="sidebar-section-children"><a href="global.html#formatVariable">formatVariable</a></div><div class="sidebar-section-children"><a href="global.html#formatVariable">formatVariable</a></div><div class="sidebar-section-children"><a href="global.html#load">load</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section id="source-page" class="source-page"><header><h1 id="title" class="has-anchor">src_FortniteShop.js</h1></header><article><pre class="prettyprint source lang-js"><code>const Canvas = require("@napi-rs/canvas");
const fortnite = require("fortnite-9812");
const fs = require("fs");
const moment = require("moment");

/**
 * Obtiene variables y tipos
 * @param {object} prefix El tipo de variable
 * @param {object} variable La variable a cambiar
 * @returns La variable formateada
 */
const formatVariable = (prefix, variable) => {
  const formattedVariable = variable.toLowerCase()
    .split("-").map((word) => word.charAt(0).toUpperCase() + word.substr(1, word.length).toLowerCase()).join("");
  return prefix + formattedVariable;
}

/**
 * Obtiene variables y tipos
 * @param {object} canvas El lienzo
 * @param {object} text El texto
 * @param {object} defaultFontSize El tamaño de píxel de fuente predeterminado
 * @param {object} width El ancho máximo del texto
 * @param {object} font La fuente del texto
 * @returns La variable formateada
 */
const applyText = (canvas, text, defaultFontSize, width, font) => {
  const ctx = canvas.getContext("2d");
  do {
    ctx.font = `${(defaultFontSize -= 1)}px ${font}`;
  } while (ctx.measureText(text).width > width);
  return ctx.font;
}


/**
 * Creador de imagen de la tienda de fortnite
 */

class FortniteShop {

  /**
   * FortniteShop image builder
   * @example
   *  const FortniteShopCardURL = await new FortniteShop()
        .setToken("3533192f-66bc-48b2-8df9-c03bfeb75957")
        .setText("footer", "ESP CUSTOMS X FORTNITE")
        .toAttachment();
      await channel.send({ files: [{ attachment: FortniteShopCardURL, name: 'FortniteShop.png' }] })
   */

  constructor() {
    /**
     * Token
     * @type {string}
     */
    this.token = "642ce759-161a-4241-b10f-957a94c7305a";
    /**
     * Texto del encabezado
     * @type {string}
     */
    this.textHeader = "TIENDA DE ARTÍCULOS FORTNITE";
    /**
     * Texto del dia
     * @type {string}
     */
    this.textDaily = "DIARIO";
    /**
     * Texto de destacados
     * @type {string}
     */
    this.textFeatured = "DESTACADOS";
    /**
     * Textos de datos
     * @type {string}
     */
    this.textDate = "Tienda Fortnite de {date}";
    /**
     * Texto del footer
     * @type {string}
     */
    this.textFooter = "Generado con canvascard";
    this.options = {
      lang: "es",
      dateFormat: "dddd, MMMM Do YYYY",
    };
    /**
     * imagen de fondo
     * @type {string}
     */
    this.background = `${__dirname}/../assets/img/fortnite/shop/background.png`;
  }

  /**
   * Valor del Token
   * @param {string} value
   * @returns {FortniteShop}
   */
  setToken(value) {
    this.token = value;
    return this;
  }

  /**
   * Valor del background
   * @param {string} value
   * @returns {FortniteShop}
   */
  setBackground(value) {
    this.background = value;
    return this;
  }

  /**
   * Valor del texto
   * @param {string} value
   * @returns {FortniteShop}
   */
  setText(variable, value) {
    const formattedVariable = formatVariable("text", variable);
    if (this[formattedVariable]) this[formattedVariable] = value;
    return this;
  }

  /**
   * Valor del idioma
   * @param {string} value
   * @returns {FortniteShop}
   */
  lang(value) {
    this.options.lang = value;
    return this;
  }

  /**
   * Valor del formato de fecha
   * @param {string} value
   * @returns {FortniteShop}
   */
  dateFormat(value) {
    this.options.dateFormat = value;
    return this;
  }

  async toAttachment() {
    if (!this.token) return console.log("Please enter a valid token fnbr.co !");

    const rarityCard = (value) => {
      let colorBorder = "#b1b1b1",
        colorCenter = "#bebebe",
        colorExt = "#646464";

      if (value === "legendary") {
        colorBorder = "#e98d4b";
        colorCenter = "#ea8d23";
        colorExt = "#78371d";
      } else if (value === "epic") {
        colorBorder = "#e95eff";
        colorCenter = "#c359ff";
        colorExt = "#4b2483";
      } else if (value === "rare") {
        colorBorder = "#37d1ff";
        colorCenter = "#2cc1ff";
        colorExt = "#143977";
      } else if (value === "uncommon") {
        colorBorder = "#87e339";
        colorCenter = "#69bb1e";
        colorExt = "#175117";
      } else if (value === "common") {
        colorBorder = "#b1b1b1";
        colorCenter = "#bebebe";
        colorExt = "#646464";
      } else if (value === "dark") {
        colorBorder = "#ff42e7";
        colorCenter = "#fb22df";
        colorExt = "#520c6f";
      } else if (value === "dc") {
        colorBorder = "#6094ce";
        colorCenter = "#5475c7";
        colorExt = "#243461";
      } else if (value === "marvel") {
        colorBorder = "#ef3537";
        colorCenter = "#c53334";
        colorExt = "#761b1b";
      } else if (value === "lava") {
        colorBorder = "#d19635";
        colorCenter = "#ea8d23";
        colorExt = "#6a0a31";
      } else if (value === "frozen") {
        colorBorder = "#c4dff7";
        colorCenter = "#94dfff";
        colorExt = "#269ed6";
      } else if (value === "slurp") {
        colorBorder = "#53f0ff";
        colorCenter = "#29f1a3";
        colorExt = "#12a9a4";
      } else if (value === "icon_series") {
        colorBorder = "#52e0e0";
        colorCenter = "#256b6b";
        colorExt = "#12a9a4";
      } else if (value === "shadow") {
        colorBorder = "#949494";
        colorCenter = "#717171";
        colorExt = "#191919";
      } else if (value === "star_wars") {
        colorBorder = "#e7c413";
        colorCenter = "#1b366e";
        colorExt = "#081737";
      }

      return {
        colorBorder: colorBorder,
        colorCenter: colorCenter,
        colorExt: colorExt,
      };
    };

    const fortniteClient = new fortnite.Client({ fnbrToken: this.token });

    let shop = await fortniteClient.fnbrShop();

    const filesDir = `${__dirname}/../assets/img/fortnite/shop/cache`;

    fs.readdir(filesDir, function (err, files) {
      //error de manejo
      if (err) {
        return console.log("Unable to scan directory: " + err);
      }

      files.forEach(function (file) {
        if (file.split(".")[1] === "png") {
          if (Number(file.split("_")[0]) &lt; Date.now() - 86400000 * 5) {
            console.log(file);
            fs.unlinkSync(
              `${__dirname}/../assets/img/fortnite/shop/cache/${file}`
            );
          }
        }
      });
    });

    const path = `${__dirname}/../assets/img/fortnite/shop/cache/${new Date(
      shop.data.date
    ).getTime()}_${this.options.lang}.png`;

    if (fs.existsSync(path)) {
      return path;
    } else {
      let dateShop = this.textDate.replace(
        "{date}",
        moment(shop.data.date)
          .locale(this.options.lang)
          .format(this.options.dateFormat)
      ),
        dailyHeight =
          shop.data.daily.length &lt; 9
            ? Math.ceil(shop.data.daily.length / 2) * 297
            : Math.ceil(shop.data.daily.length / 3) * 297,
        featuredHeight =
          shop.data.featured.length &lt; 9
            ? Math.ceil(shop.data.featured.length / 2) * 297
            : Math.ceil(shop.data.featured.length / 3) * 297,
        canvas =
          shop.data.daily.length &lt; 9 &amp;&amp; shop.data.featured.length &lt; 9
            ? shop.data.daily.length >= shop.data.featured.length
              ? Canvas.createCanvas(1220, 250 + dailyHeight)
              : Canvas.createCanvas(1220, 250 + featuredHeight)
            : shop.data.daily.length >= shop.data.featured.length
              ? Canvas.createCanvas(1220 + 297 * 2, 250 + dailyHeight)
              : Canvas.createCanvas(1220 + 297 * 2, 250 + featuredHeight),
        ctx = canvas.getContext("2d");

      /* BACKGROUND */
      if (this.background.startsWith("#")) {
        let background = this.background;
        ctx.fillStyle = background;
        if (canvas.height > 2026) {
          ctx.fillRect(0, 0, (canvas.height * 3268) / 2027, canvas.height);
        } else {
          ctx.fillRect(0, 0, 3268, 2027);
        }
      } else {
        let background = await Canvas.loadImage(
          `${__dirname}/../assets/img/fortnite/shop/background.png`
        );
        if (canvas.height > 2026) {
          ctx.drawImage(
            background,
            0,
            0,
            (canvas.height * 3268) / 2027,
            canvas.height
          );
        } else {
          ctx.drawImage(background, 0, 0, 3268, 2027);
        }
      }
      // Título del sorteo
      ctx.fillStyle = "#ffffff";
      ctx.font = "70px Luckiest Guy";
      ctx.textAlign = "center";
      ctx.fillText(this.textHeader, canvas.width / 2, 71);
      ctx.font = "50px Luckiest Guy";
      if (shop.data.daily.length &lt; 9 &amp;&amp; shop.data.featured.length &lt; 9) {
        // Dibujar destacados
        ctx.fillText(this.textFeatured, 298, 185);
        // Dibujar diariamente
        ctx.fillText(this.textDaily, 923, 185);
      } else {
        // Dibujar destacados
        ctx.fillText(this.textFeatured, 447, 185);
        // Dibujar diariamente
        ctx.fillText(this.textDaily, canvas.width - 447, 185);
      }
      // Dibujar pie de página
      ctx.font = "43px Roboto";
      ctx.fillText(this.textFooter, canvas.width / 2, canvas.height - 18);
      // Extraer y extraer la fecha de la tienda
      ctx.font = "49px Luckiest Guy";
      ctx.fillText(dateShop, canvas.width / 2, 125);

      if (shop.data.daily.length &lt; 9 &amp;&amp; shop.data.featured.length &lt; 9) {
        for (let i = 0; i &lt; shop.data.featured.length; i++) {
          if (i &amp; 1) {
            if (shop.data.featured[i].images.featured) {
              const { colorBorder, colorCenter, colorExt } = rarityCard(
                shop.data.featured[i].rarity
              );

              ctx.fillStyle = colorBorder;
              ctx.fillRect(313, 51 + 149 * i, 268, 268);
              const grd = ctx.createRadialGradient(
                313 + 3 + (268 - 3 * 2) / 2,
                51 + 149 * i + 3 + (268 - 3 * 2) / 2,
                4,
                (268 - 3 * 2) / 2 + 313 + 3,
                (268 - 3 * 2) / 2 + 51 + 149 * i + 3,
                (268 - 3 * 2) * 0.8
              );
              grd.addColorStop(0, colorCenter);
              grd.addColorStop(1, colorExt);
              ctx.fillStyle = grd;
              ctx.fillRect(313 + 3, 51 + 149 * i + 3, 268 - 3 * 2, 268 - 3 * 2);

              let item = await Canvas.loadImage(
                shop.data.featured[i].images.featured
              );
              ctx.drawImage(item, 313 + 3, 51 + 3 + 149 * i, 262, 262);
              ctx.globalAlpha = 0.4;
              ctx.fillStyle = "#000000";
              ctx.fillRect(313 + 3, 51 + 192 + 149 * i, 262, 73);
              ctx.globalAlpha = 1;
              ctx.font = applyText(
                canvas,
                shop.data.featured[i].name,
                38,
                260,
                "Luckiest Guy"
              );
              ctx.fillStyle = "#ffffff";
              ctx.textAlign = "center";
              ctx.fillText(
                shop.data.featured[i].name,
                313 + 134,
                51 + 192 + 32 + 149 * i
              );
              let price = shop.data.featured[i].price.replace(/[,]/gi, ""),
                vbuck = await Canvas.loadImage(
                  shop.data.featured[i].priceIconLink
                );
              ctx.textAlign = "left";
              ctx.font = "30px Luckiest Guy";
              if (price >= 1000) {
                ctx.drawImage(vbuck, 313 + 93, 51 + 192 + 42 + 149 * i, 25, 25);
                ctx.fillText(
                  shop.data.featured[i].price,
                  313 + 122,
                  51 + 192 + 65 + 149 * i
                );
              }
              if (price >= 100 &amp;&amp; price &lt; 1000) {
                ctx.drawImage(
                  vbuck,
                  313 + 100,
                  51 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.featured[i].price,
                  313 + 129,
                  51 + 192 + 65 + 149 * i
                );
              }
              if (price >= 10 &amp;&amp; price &lt; 100) {
                ctx.drawImage(
                  vbuck,
                  313 + 107,
                  51 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.featured[i].price,
                  313 + 136,
                  51 + 192 + 65 + 149 * i
                );
              }
              if (price >= 0 &amp;&amp; price &lt; 10) {
                ctx.drawImage(
                  vbuck,
                  313 + 114,
                  51 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.featured[i].price,
                  313 + 143,
                  51 + 192 + 65 + 149 * i
                );
              }
            } else {
              const { colorBorder, colorCenter, colorExt } = rarityCard(
                shop.data.featured[i].rarity
              );

              ctx.fillStyle = colorBorder;
              ctx.fillRect(313, 51 + 149 * i, 268, 268);
              const grd = ctx.createRadialGradient(
                313 + 3 + (268 - 3 * 2) / 2,
                51 + 149 * i + 3 + (268 - 3 * 2) / 2,
                4,
                (268 - 3 * 2) / 2 + 313 + 3,
                (268 - 3 * 2) / 2 + 51 + 149 * i + 3,
                (268 - 3 * 2) * 0.8
              );
              grd.addColorStop(0, colorCenter);
              grd.addColorStop(1, colorExt);
              ctx.fillStyle = grd;
              ctx.fillRect(313 + 3, 51 + 149 * i + 3, 268 - 3 * 2, 268 - 3 * 2);

              let item = await Canvas.loadImage(
                shop.data.featured[i].images.icon
              );
              ctx.drawImage(item, 313 + 3, 51 + 3 + 149 * i, 262, 262);
              ctx.globalAlpha = 0.4;
              ctx.fillStyle = "#000000";
              ctx.fillRect(313 + 3, 51 + 192 + 149 * i, 262, 73);
              ctx.globalAlpha = 1;
              ctx.font = applyText(
                canvas,
                shop.data.featured[i].name,
                38,
                260,
                "Luckiest Guy"
              );
              ctx.fillStyle = "#ffffff";
              ctx.textAlign = "center";
              ctx.fillText(
                shop.data.featured[i].name,
                313 + 134,
                51 + 192 + 32 + 149 * i
              );
              let price = shop.data.featured[i].price.replace(/[,]/gi, ""),
                vbuck = await Canvas.loadImage(
                  shop.data.featured[i].priceIconLink
                );
              ctx.textAlign = "left";
              ctx.font = "30px Luckiest Guy";
              if (price >= 1000) {
                ctx.drawImage(vbuck, 313 + 93, 51 + 192 + 42 + 149 * i, 25, 25);
                ctx.fillText(
                  shop.data.featured[i].price,
                  313 + 122,
                  51 + 192 + 65 + 149 * i
                );
              }
              if (price >= 100 &amp;&amp; price &lt; 1000) {
                ctx.drawImage(
                  vbuck,
                  313 + 100,
                  51 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.featured[i].price,
                  313 + 129,
                  51 + 192 + 65 + 149 * i
                );
              }
              if (price >= 10 &amp;&amp; price &lt; 100) {
                ctx.drawImage(
                  vbuck,
                  313 + 107,
                  51 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.featured[i].price,
                  313 + 136,
                  51 + 192 + 65 + 149 * i
                );
              }
              if (price >= 0 &amp;&amp; price &lt; 10) {
                ctx.drawImage(
                  vbuck,
                  313 + 114,
                  51 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.featured[i].price,
                  313 + 143,
                  51 + 192 + 65 + 149 * i
                );
              }
            }
          } else {
            if (shop.data.featured[i].images.featured) {
              const { colorBorder, colorCenter, colorExt } = rarityCard(
                shop.data.featured[i].rarity
              );
              ctx.fillStyle = colorBorder;
              ctx.fillRect(15, 200 + 149 * i, 268, 268);
              const grd = ctx.createRadialGradient(
                15 + 3 + (268 - 3 * 2) / 2,
                200 + 149 * i + 3 + (268 - 3 * 2) / 2,
                4,
                (268 - 3 * 2) / 2 + 15 + 3,
                (268 - 3 * 2) / 2 + 200 + 149 * i + 3,
                (268 - 3 * 2) * 0.8
              );
              grd.addColorStop(0, colorCenter);
              grd.addColorStop(1, colorExt);
              ctx.fillStyle = grd;
              ctx.fillRect(15 + 3, 200 + 149 * i + 3, 268 - 3 * 2, 268 - 3 * 2);

              let item = await Canvas.loadImage(
                shop.data.featured[i].images.featured
              );
              ctx.drawImage(item, 15 + 3, 200 + 3 + 149 * i, 262, 262);
              ctx.globalAlpha = 0.4;
              ctx.fillStyle = "#000000";
              ctx.fillRect(15 + 3, 200 + 192 + 149 * i, 262, 73);
              ctx.globalAlpha = 1;
              ctx.font = applyText(
                canvas,
                shop.data.featured[i].name,
                38,
                260,
                "Luckiest Guy"
              );
              ctx.fillStyle = "#ffffff";
              ctx.textAlign = "center";
              ctx.fillText(
                shop.data.featured[i].name,
                15 + 134,
                200 + 192 + 32 + 149 * i
              );
              let price = shop.data.featured[i].price.replace(/[,]/gi, ""),
                vbuck = await Canvas.loadImage(
                  shop.data.featured[i].priceIconLink
                );
              ctx.textAlign = "left";
              ctx.font = "30px Luckiest Guy";
              if (price >= 1000) {
                ctx.drawImage(vbuck, 15 + 93, 200 + 192 + 42 + 149 * i, 25, 25);
                ctx.fillText(
                  shop.data.featured[i].price,
                  15 + 122,
                  200 + 192 + 65 + 149 * i
                );
              }
              if (price >= 100 &amp;&amp; price &lt; 1000) {
                ctx.drawImage(
                  vbuck,
                  15 + 100,
                  200 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.featured[i].price,
                  15 + 129,
                  200 + 192 + 65 + 149 * i
                );
              }
              if (price >= 10 &amp;&amp; price &lt; 100) {
                ctx.drawImage(
                  vbuck,
                  15 + 107,
                  200 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.featured[i].price,
                  15 + 136,
                  200 + 192 + 65 + 149 * i
                );
              }
              if (price >= 0 &amp;&amp; price &lt; 10) {
                ctx.drawImage(
                  vbuck,
                  15 + 114,
                  200 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.featured[i].price,
                  15 + 143,
                  200 + 192 + 65 + 149 * i
                );
              }
            } else {
              const { colorBorder, colorCenter, colorExt } = rarityCard(
                shop.data.featured[i].rarity
              );
              ctx.fillStyle = colorBorder;
              ctx.fillRect(15, 200 + 149 * i, 268, 268);
              const grd = ctx.createRadialGradient(
                15 + 3 + (268 - 3 * 2) / 2,
                200 + 149 * i + 3 + (268 - 3 * 2) / 2,
                4,
                (268 - 3 * 2) / 2 + 15 + 3,
                (268 - 3 * 2) / 2 + 200 + 149 * i + 3,
                (268 - 3 * 2) * 0.8
              );
              grd.addColorStop(0, colorCenter);
              grd.addColorStop(1, colorExt);
              ctx.fillStyle = grd;
              ctx.fillRect(15 + 3, 200 + 149 * i + 3, 268 - 3 * 2, 268 - 3 * 2);

              let item = await Canvas.loadImage(
                shop.data.featured[i].images.icon
              );
              ctx.drawImage(item, 15 + 3, 200 + 3 + 149 * i, 262, 262);
              ctx.globalAlpha = 0.4;
              ctx.fillStyle = "#000000";
              ctx.fillRect(15 + 3, 200 + 192 + 149 * i, 262, 73);
              ctx.globalAlpha = 1;
              ctx.font = applyText(
                canvas,
                shop.data.featured[i].name,
                38,
                260,
                "Luckiest Guy"
              );
              ctx.fillStyle = "#ffffff";
              ctx.textAlign = "center";
              ctx.fillText(
                shop.data.featured[i].name,
                15 + 134,
                200 + 192 + 32 + 149 * i
              );
              let price = shop.data.featured[i].price.replace(/[,]/gi, ""),
                vbuck = await Canvas.loadImage(
                  shop.data.featured[i].priceIconLink
                );
              ctx.textAlign = "left";
              ctx.font = "30px Luckiest Guy";
              if (price >= 1000) {
                ctx.drawImage(vbuck, 15 + 93, 200 + 192 + 42 + 149 * i, 25, 25);
                ctx.fillText(
                  shop.data.featured[i].price,
                  15 + 122,
                  200 + 192 + 65 + 149 * i
                );
              }
              if (price >= 100 &amp;&amp; price &lt; 1000) {
                ctx.drawImage(
                  vbuck,
                  15 + 100,
                  200 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.featured[i].price,
                  15 + 129,
                  200 + 192 + 65 + 149 * i
                );
              }
              if (price >= 10 &amp;&amp; price &lt; 100) {
                ctx.drawImage(
                  vbuck,
                  15 + 107,
                  200 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.featured[i].price,
                  15 + 136,
                  200 + 192 + 65 + 149 * i
                );
              }
              if (price >= 0 &amp;&amp; price &lt; 10) {
                ctx.drawImage(
                  vbuck,
                  15 + 114,
                  200 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.featured[i].price,
                  15 + 143,
                  200 + 192 + 65 + 149 * i
                );
              }
            }
          }
        }
        for (let i = 0; i &lt; shop.data.daily.length; i++) {
          if (i &amp; 1) {
            if (shop.data.daily[i].images.daily) {
              const { colorBorder, colorCenter, colorExt } = rarityCard(
                shop.data.daily[i].rarity
              );
              ctx.fillStyle = colorBorder;
              ctx.fillRect(938, 51 + 149 * i, 268, 268);
              const grd = ctx.createRadialGradient(
                938 + 3 + (268 - 3 * 2) / 2,
                51 + 149 * i + 3 + (268 - 3 * 2) / 2,
                4,
                (268 - 3 * 2) / 2 + 938 + 3,
                (268 - 3 * 2) / 2 + 51 + 149 * i + 3,
                (268 - 3 * 2) * 0.8
              );
              grd.addColorStop(0, colorCenter);
              grd.addColorStop(1, colorExt);
              ctx.fillStyle = grd;
              ctx.fillRect(938 + 3, 51 + 149 * i + 3, 268 - 3 * 2, 268 - 3 * 2);

              let item = await Canvas.loadImage(
                shop.data.daily[i].images.daily
              );
              ctx.drawImage(item, 938 + 3, 51 + 3 + 149 * i, 262, 262);
              ctx.globalAlpha = 0.4;
              ctx.fillStyle = "#000000";
              ctx.fillRect(938 + 3, 51 + 192 + 149 * i, 262, 73);
              ctx.globalAlpha = 1;
              ctx.font = applyText(
                canvas,
                shop.data.daily[i].name,
                38,
                260,
                "Luckiest Guy"
              );
              ctx.fillStyle = "#ffffff";
              ctx.textAlign = "center";
              ctx.fillText(
                shop.data.daily[i].name,
                938 + 134,
                51 + 192 + 32 + 149 * i
              );
              let price = shop.data.daily[i].price.replace(/[,]/gi, ""),
                vbuck = await Canvas.loadImage(
                  shop.data.daily[i].priceIconLink
                );
              ctx.textAlign = "left";
              ctx.font = "30px Luckiest Guy";
              if (price >= 1000) {
                ctx.drawImage(vbuck, 938 + 93, 51 + 192 + 42 + 149 * i, 25, 25);
                ctx.fillText(
                  shop.data.daily[i].price,
                  938 + 122,
                  51 + 192 + 65 + 149 * i
                );
              }
              if (price >= 100 &amp;&amp; price &lt; 1000) {
                ctx.drawImage(
                  vbuck,
                  938 + 100,
                  51 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.daily[i].price,
                  938 + 129,
                  51 + 192 + 65 + 149 * i
                );
              }
              if (price >= 10 &amp;&amp; price &lt; 100) {
                ctx.drawImage(
                  vbuck,
                  938 + 107,
                  51 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.daily[i].price,
                  938 + 136,
                  51 + 192 + 65 + 149 * i
                );
              }
              if (price >= 0 &amp;&amp; price &lt; 10) {
                ctx.drawImage(
                  vbuck,
                  938 + 114,
                  51 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.daily[i].price,
                  938 + 143,
                  51 + 192 + 65 + 149 * i
                );
              }
            } else {
              const { colorBorder, colorCenter, colorExt } = rarityCard(
                shop.data.daily[i].rarity
              );
              ctx.fillStyle = colorBorder;
              ctx.fillRect(938, 51 + 149 * i, 268, 268);
              const grd = ctx.createRadialGradient(
                938 + 3 + (268 - 3 * 2) / 2,
                51 + 149 * i + 3 + (268 - 3 * 2) / 2,
                4,
                (268 - 3 * 2) / 2 + 938 + 3,
                (268 - 3 * 2) / 2 + 51 + 149 * i + 3,
                (268 - 3 * 2) * 0.8
              );
              grd.addColorStop(0, colorCenter);
              grd.addColorStop(1, colorExt);
              ctx.fillStyle = grd;
              ctx.fillRect(938 + 3, 51 + 149 * i + 3, 268 - 3 * 2, 268 - 3 * 2);

              let item = await Canvas.loadImage(shop.data.daily[i].images.icon);
              ctx.drawImage(item, 938 + 3, 51 + 3 + 149 * i, 262, 262);
              ctx.globalAlpha = 0.4;
              ctx.fillStyle = "#000000";
              ctx.fillRect(938 + 3, 51 + 192 + 149 * i, 262, 73);
              ctx.globalAlpha = 1;
              ctx.font = applyText(
                canvas,
                shop.data.daily[i].name,
                38,
                260,
                "Luckiest Guy"
              );
              ctx.fillStyle = "#ffffff";
              ctx.textAlign = "center";
              ctx.fillText(
                shop.data.daily[i].name,
                938 + 134,
                51 + 192 + 32 + 149 * i
              );
              let price = shop.data.daily[i].price.replace(/[,]/gi, ""),
                vbuck = await Canvas.loadImage(
                  shop.data.daily[i].priceIconLink
                );
              ctx.textAlign = "left";
              ctx.font = "30px Luckiest Guy";
              if (price >= 1000) {
                ctx.drawImage(vbuck, 938 + 93, 51 + 192 + 42 + 149 * i, 25, 25);
                ctx.fillText(
                  shop.data.daily[i].price,
                  938 + 122,
                  51 + 192 + 65 + 149 * i
                );
              }
              if (price >= 100 &amp;&amp; price &lt; 1000) {
                ctx.drawImage(
                  vbuck,
                  938 + 100,
                  51 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.daily[i].price,
                  938 + 129,
                  51 + 192 + 65 + 149 * i
                );
              }
              if (price >= 10 &amp;&amp; price &lt; 100) {
                ctx.drawImage(
                  vbuck,
                  938 + 107,
                  51 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.daily[i].price,
                  938 + 136,
                  51 + 192 + 65 + 149 * i
                );
              }
              if (price >= 0 &amp;&amp; price &lt; 10) {
                ctx.drawImage(
                  vbuck,
                  938 + 114,
                  51 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.daily[i].price,
                  938 + 143,
                  51 + 192 + 65 + 149 * i
                );
              }
            }
          } else {
            if (shop.data.daily[i].images.daily) {
              const { colorBorder, colorCenter, colorExt } = rarityCard(
                shop.data.daily[i].rarity
              );
              ctx.fillStyle = colorBorder;
              ctx.fillRect(640, 200 + 149 * i, 268, 268);
              const grd = ctx.createRadialGradient(
                640 + 3 + (268 - 3 * 2) / 2,
                200 + 149 * i + 3 + (268 - 3 * 2) / 2,
                4,
                (268 - 3 * 2) / 2 + 640 + 3,
                (268 - 3 * 2) / 2 + 200 + 149 * i + 3,
                (268 - 3 * 2) * 0.8
              );
              grd.addColorStop(0, colorCenter);
              grd.addColorStop(1, colorExt);
              ctx.fillStyle = grd;
              ctx.fillRect(
                640 + 3,
                200 + 149 * i + 3,
                268 - 3 * 2,
                268 - 3 * 2
              );

              let item = await Canvas.loadImage(
                shop.data.daily[i].images.daily
              );
              ctx.drawImage(item, 640 + 3, 200 + 3 + 149 * i, 262, 262);
              ctx.globalAlpha = 0.4;
              ctx.fillStyle = "#000000";
              ctx.fillRect(640 + 3, 200 + 192 + 149 * i, 262, 73);
              ctx.globalAlpha = 1;
              ctx.font = applyText(
                canvas,
                shop.data.daily[i].name,
                38,
                260,
                "Luckiest Guy"
              );
              ctx.fillStyle = "#ffffff";
              ctx.textAlign = "center";
              ctx.fillText(
                shop.data.daily[i].name,
                640 + 134,
                200 + 192 + 32 + 149 * i
              );
              let price = shop.data.daily[i].price.replace(/[,]/gi, ""),
                vbuck = await Canvas.loadImage(
                  shop.data.daily[i].priceIconLink
                );
              ctx.textAlign = "left";
              ctx.font = "30px Luckiest Guy";
              if (price >= 1000) {
                ctx.drawImage(
                  vbuck,
                  640 + 93,
                  200 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.daily[i].price,
                  640 + 122,
                  200 + 192 + 65 + 149 * i
                );
              }
              if (price >= 100 &amp;&amp; price &lt; 1000) {
                ctx.drawImage(
                  vbuck,
                  640 + 100,
                  200 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.daily[i].price,
                  640 + 129,
                  200 + 192 + 65 + 149 * i
                );
              }
              if (price >= 10 &amp;&amp; price &lt; 100) {
                ctx.drawImage(
                  vbuck,
                  640 + 107,
                  200 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.daily[i].price,
                  640 + 136,
                  200 + 192 + 65 + 149 * i
                );
              }
              if (price >= 0 &amp;&amp; price &lt; 10) {
                ctx.drawImage(
                  vbuck,
                  640 + 114,
                  200 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.daily[i].price,
                  640 + 143,
                  200 + 192 + 65 + 149 * i
                );
              }
            } else {
              const { colorBorder, colorCenter, colorExt } = rarityCard(
                shop.data.daily[i].rarity
              );
              ctx.fillStyle = colorBorder;
              ctx.fillRect(640, 200 + 149 * i, 268, 268);
              const grd = ctx.createRadialGradient(
                640 + 3 + (268 - 3 * 2) / 2,
                200 + 149 * i + 3 + (268 - 3 * 2) / 2,
                4,
                (268 - 3 * 2) / 2 + 640 + 3,
                (268 - 3 * 2) / 2 + 200 + 149 * i + 3,
                (268 - 3 * 2) * 0.8
              );
              grd.addColorStop(0, colorCenter);
              grd.addColorStop(1, colorExt);
              ctx.fillStyle = grd;
              ctx.fillRect(
                640 + 3,
                200 + 149 * i + 3,
                268 - 3 * 2,
                268 - 3 * 2
              );

              let item = await Canvas.loadImage(shop.data.daily[i].images.icon);
              ctx.drawImage(item, 640 + 3, 200 + 3 + 149 * i, 262, 262);
              ctx.globalAlpha = 0.4;
              ctx.fillStyle = "#000000";
              ctx.fillRect(640 + 3, 200 + 192 + 149 * i, 262, 73);
              ctx.globalAlpha = 1;
              ctx.font = applyText(
                canvas,
                shop.data.daily[i].name,
                38,
                260,
                "Luckiest Guy"
              );
              ctx.fillStyle = "#ffffff";
              ctx.textAlign = "center";
              ctx.fillText(
                shop.data.daily[i].name,
                640 + 134,
                200 + 192 + 32 + 149 * i
              );
              let price = shop.data.daily[i].price.replace(/[,]/gi, ""),
                vbuck = await Canvas.loadImage(
                  shop.data.daily[i].priceIconLink
                );
              ctx.textAlign = "left";
              ctx.font = "30px Luckiest Guy";
              if (price >= 1000) {
                ctx.drawImage(
                  vbuck,
                  640 + 93,
                  200 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.daily[i].price,
                  640 + 122,
                  200 + 192 + 65 + 149 * i
                );
              }
              if (price >= 100 &amp;&amp; price &lt; 1000) {
                ctx.drawImage(
                  vbuck,
                  640 + 100,
                  200 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.daily[i].price,
                  640 + 129,
                  200 + 192 + 65 + 149 * i
                );
              }
              if (price >= 10 &amp;&amp; price &lt; 100) {
                ctx.drawImage(
                  vbuck,
                  640 + 107,
                  200 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.daily[i].price,
                  640 + 136,
                  200 + 192 + 65 + 149 * i
                );
              }
              if (price >= 0 &amp;&amp; price &lt; 10) {
                ctx.drawImage(
                  vbuck,
                  640 + 114,
                  200 + 192 + 42 + 149 * i,
                  25,
                  25
                );
                ctx.fillText(
                  shop.data.daily[i].price,
                  640 + 143,
                  200 + 192 + 65 + 149 * i
                );
              }
            }
          }
        }
      } else {
        let i1Featured = Math.ceil(shop.data.featured.length / 3),
          i2Featured = Math.ceil((shop.data.featured.length - i1Featured) / 2),
          i3Featured = Math.ceil(
            shop.data.featured.length - (i1Featured + i2Featured)
          ),
          i1Daily = Math.ceil(shop.data.daily.length / 3),
          i2Daily = Math.ceil((shop.data.daily.length - i1Daily) / 2),
          i3Daily = Math.ceil(shop.data.daily.length - (i1Daily + i2Daily));
        for (let i = 0; i &lt; i1Featured; i++) {
          if (shop.data.featured[i].images.featured) {
            const { colorBorder, colorCenter, colorExt } = rarityCard(
              shop.data.featured[i].rarity
            );
            ctx.fillStyle = colorBorder;
            ctx.fillRect(15, 200 + 298 * i, 268, 268);
            const grd = ctx.createRadialGradient(
              15 + 3 + (268 - 3 * 2) / 2,
              200 + 298 * i + 3 + (268 - 3 * 2) / 2,
              4,
              (268 - 3 * 2) / 2 + 15 + 3,
              (268 - 3 * 2) / 2 + 200 + 298 * i + 3,
              (268 - 3 * 2) * 0.8
            );
            grd.addColorStop(0, colorCenter);
            grd.addColorStop(1, colorExt);
            ctx.fillStyle = grd;
            ctx.fillRect(15 + 3, 200 + 298 * i + 3, 268 - 3 * 2, 268 - 3 * 2);

            let item = await Canvas.loadImage(
              shop.data.featured[i].images.featured
            );
            ctx.drawImage(item, 15 + 3, 200 + 3 + 298 * i, 262, 262);
            ctx.globalAlpha = 0.4;
            ctx.fillStyle = "#000000";
            ctx.fillRect(15 + 3, 200 + 192 + 298 * i, 262, 73);
            ctx.globalAlpha = 1;
            ctx.font = applyText(
              canvas,
              shop.data.featured[i].name,
              38,
              260,
              "Luckiest Guy"
            );
            ctx.fillStyle = "#ffffff";
            ctx.textAlign = "center";
            ctx.fillText(
              shop.data.featured[i].name,
              15 + 134,
              200 + 192 + 32 + 298 * i
            );
            let price = shop.data.featured[i].price.replace(/[,]/gi, ""),
              vbuck = await Canvas.loadImage(
                shop.data.featured[i].priceIconLink
              );
            ctx.textAlign = "left";
            ctx.font = "30px Luckiest Guy";
            if (price >= 1000) {
              ctx.drawImage(vbuck, 15 + 93, 200 + 192 + 42 + 298 * i, 25, 25);
              ctx.fillText(
                shop.data.featured[i].price,
                15 + 122,
                200 + 192 + 65 + 298 * i
              );
            }
            if (price >= 100 &amp;&amp; price &lt; 1000) {
              ctx.drawImage(vbuck, 15 + 100, 200 + 192 + 42 + 298 * i, 25, 25);
              ctx.fillText(
                shop.data.featured[i].price,
                15 + 129,
                200 + 192 + 65 + 298 * i
              );
            }
            if (price >= 10 &amp;&amp; price &lt; 100) {
              ctx.drawImage(vbuck, 15 + 107, 200 + 192 + 42 + 298 * i, 25, 25);
              ctx.fillText(
                shop.data.featured[i].price,
                15 + 136,
                200 + 192 + 65 + 298 * i
              );
            }
            if (price >= 0 &amp;&amp; price &lt; 10) {
              ctx.drawImage(vbuck, 15 + 114, 200 + 192 + 42 + 298 * i, 25, 25);
              ctx.fillText(
                shop.data.featured[i].price,
                15 + 143,
                200 + 192 + 65 + 298 * i
              );
            }
          } else {
            const { colorBorder, colorCenter, colorExt } = rarityCard(
              shop.data.featured[i].rarity
            );
            ctx.fillStyle = colorBorder;
            ctx.fillRect(15, 200 + 298 * i, 268, 268);
            const grd = ctx.createRadialGradient(
              15 + 3 + (268 - 3 * 2) / 2,
              200 + 298 * i + 3 + (268 - 3 * 2) / 2,
              4,
              (268 - 3 * 2) / 2 + 15 + 3,
              (268 - 3 * 2) / 2 + 200 + 298 * i + 3,
              (268 - 3 * 2) * 0.8
            );
            grd.addColorStop(0, colorCenter);
            grd.addColorStop(1, colorExt);
            ctx.fillStyle = grd;
            ctx.fillRect(15 + 3, 200 + 298 * i + 3, 268 - 3 * 2, 268 - 3 * 2);

            let item = await Canvas.loadImage(
              shop.data.featured[i].images.icon
            );
            ctx.drawImage(item, 15 + 3, 200 + 3 + 298 * i, 262, 262);
            ctx.globalAlpha = 0.4;
            ctx.fillStyle = "#000000";
            ctx.fillRect(15 + 3, 200 + 192 + 298 * i, 262, 73);
            ctx.globalAlpha = 1;
            ctx.font = applyText(
              canvas,
              shop.data.featured[i].name,
              38,
              260,
              "Luckiest Guy"
            );
            ctx.fillStyle = "#ffffff";
            ctx.textAlign = "center";
            ctx.fillText(
              shop.data.featured[i].name,
              15 + 134,
              200 + 192 + 32 + 298 * i
            );
            let price = shop.data.featured[i].price.replace(/[,]/gi, ""),
              vbuck = await Canvas.loadImage(
                shop.data.featured[i].priceIconLink
              );
            ctx.textAlign = "left";
            ctx.font = "30px Luckiest Guy";
            if (price >= 1000) {
              ctx.drawImage(vbuck, 15 + 93, 200 + 192 + 42 + 298 * i, 25, 25);
              ctx.fillText(
                shop.data.featured[i].price,
                15 + 122,
                200 + 192 + 65 + 298 * i
              );
            }
            if (price >= 100 &amp;&amp; price &lt; 1000) {
              ctx.drawImage(vbuck, 15 + 100, 200 + 192 + 42 + 298 * i, 25, 25);
              ctx.fillText(
                shop.data.featured[i].price,
                15 + 129,
                200 + 192 + 65 + 298 * i
              );
            }
            if (price >= 10 &amp;&amp; price &lt; 100) {
              ctx.drawImage(vbuck, 15 + 107, 200 + 192 + 42 + 298 * i, 25, 25);
              ctx.fillText(
                shop.data.featured[i].price,
                15 + 136,
                200 + 192 + 65 + 298 * i
              );
            }
            if (price >= 0 &amp;&amp; price &lt; 10) {
              ctx.drawImage(vbuck, 15 + 114, 200 + 192 + 42 + 298 * i, 25, 25);
              ctx.fillText(
                shop.data.featured[i].price,
                15 + 143,
                200 + 192 + 65 + 298 * i
              );
            }
          }
        }
        for (let i = i1Featured; i &lt; i1Featured + i2Featured; i++) {
          if (shop.data.featured[i].images.featured) {
            const { colorBorder, colorCenter, colorExt } = rarityCard(
              shop.data.featured[i].rarity
            );
            ctx.fillStyle = colorBorder;
            ctx.fillRect(313, 200 + 298 * (i - i1Featured), 268, 268);
            const grd = ctx.createRadialGradient(
              313 + 3 + (268 - 3 * 2) / 2,
              200 + 298 * (i - i1Featured) + 3 + (268 - 3 * 2) / 2,
              4,
              (268 - 3 * 2) / 2 + 313 + 3,
              (268 - 3 * 2) / 2 + 200 + 298 * (i - i1Featured) + 3,
              (268 - 3 * 2) * 0.8
            );
            grd.addColorStop(0, colorCenter);
            grd.addColorStop(1, colorExt);
            ctx.fillStyle = grd;
            ctx.fillRect(
              313 + 3,
              200 + 298 * (i - i1Featured) + 3,
              268 - 3 * 2,
              268 - 3 * 2
            );

            let item = await Canvas.loadImage(
              shop.data.featured[i].images.featured
            );
            ctx.drawImage(
              item,
              313 + 3,
              200 + 3 + 298 * (i - i1Featured),
              262,
              262
            );
            ctx.globalAlpha = 0.4;
            ctx.fillStyle = "#000000";
            ctx.fillRect(313 + 3, 200 + 192 + 298 * (i - i1Featured), 262, 73);
            ctx.globalAlpha = 1;
            ctx.font = applyText(
              canvas,
              shop.data.featured[i].name,
              38,
              260,
              "Luckiest Guy"
            );
            ctx.fillStyle = "#ffffff";
            ctx.textAlign = "center";
            ctx.fillText(
              shop.data.featured[i].name,
              313 + 134,
              200 + 192 + 32 + 298 * (i - i1Featured)
            );
            let price = shop.data.featured[i].price.replace(/[,]/gi, ""),
              vbuck = await Canvas.loadImage(
                shop.data.featured[i].priceIconLink
              );
            ctx.textAlign = "left";
            ctx.font = "30px Luckiest Guy";
            if (price >= 1000) {
              ctx.drawImage(
                vbuck,
                313 + 93,
                200 + 192 + 42 + 298 * (i - i1Featured),
                25,
                25
              );
              ctx.fillText(
                shop.data.featured[i].price,
                313 + 122,
                200 + 192 + 65 + 298 * (i - i1Featured)
              );
            }
            if (price >= 100 &amp;&amp; price &lt; 1000) {
              ctx.drawImage(
                vbuck,
                313 + 100,
                200 + 192 + 42 + 298 * (i - i1Featured),
                25,
                25
              );
              ctx.fillText(
                shop.data.featured[i].price,
                313 + 129,
                200 + 192 + 65 + 298 * (i - i1Featured)
              );
            }
            if (price >= 10 &amp;&amp; price &lt; 100) {
              ctx.drawImage(
                vbuck,
                313 + 107,
                200 + 192 + 42 + 298 * (i - i1Featured),
                25,
                25
              );
              ctx.fillText(
                shop.data.featured[i].price,
                313 + 136,
                200 + 192 + 65 + 298 * (i - i1Featured)
              );
            }
            if (price >= 0 &amp;&amp; price &lt; 10) {
              ctx.drawImage(
                vbuck,
                313 + 114,
                200 + 192 + 42 + 298 * (i - i1Featured),
                25,
                25
              );
              ctx.fillText(
                shop.data.featured[i].price,
                313 + 143,
                200 + 192 + 65 + 298 * (i - i1Featured)
              );
            }
          } else {
            const { colorBorder, colorCenter, colorExt } = rarityCard(
              shop.data.featured[i].rarity
            );
            ctx.fillStyle = colorBorder;
            ctx.fillRect(313, 200 + 298 * (i - i1Featured), 268, 268);
            const grd = ctx.createRadialGradient(
              313 + 3 + (268 - 3 * 2) / 2,
              200 + 298 * (i - i1Featured) + 3 + (268 - 3 * 2) / 2,
              4,
              (268 - 3 * 2) / 2 + 313 + 3,
              (268 - 3 * 2) / 2 + 200 + 298 * (i - i1Featured) + 3,
              (268 - 3 * 2) * 0.8
            );
            grd.addColorStop(0, colorCenter);
            grd.addColorStop(1, colorExt);
            ctx.fillStyle = grd;
            ctx.fillRect(
              313 + 3,
              200 + 298 * (i - i1Featured) + 3,
              268 - 3 * 2,
              268 - 3 * 2
            );

            let item = await Canvas.loadImage(
              shop.data.featured[i].images.icon
            );
            ctx.drawImage(
              item,
              313 + 3,
              200 + 3 + 298 * (i - i1Featured),
              262,
              262
            );
            ctx.globalAlpha = 0.4;
            ctx.fillStyle = "#000000";
            ctx.fillRect(313 + 3, 200 + 192 + 298 * (i - i1Featured), 262, 73);
            ctx.globalAlpha = 1;
            ctx.font = applyText(
              canvas,
              shop.data.featured[i].name,
              38,
              260,
              "Luckiest Guy"
            );
            ctx.fillStyle = "#ffffff";
            ctx.textAlign = "center";
            ctx.fillText(
              shop.data.featured[i].name,
              313 + 134,
              200 + 192 + 32 + 298 * (i - i1Featured)
            );
            let price = shop.data.featured[i].price.replace(/[,]/gi, ""),
              vbuck = await Canvas.loadImage(
                shop.data.featured[i].priceIconLink
              );
            ctx.textAlign = "left";
            ctx.font = "30px Luckiest Guy";
            if (price >= 1000) {
              ctx.drawImage(
                vbuck,
                313 + 93,
                200 + 192 + 42 + 298 * (i - i1Featured),
                25,
                25
              );
              ctx.fillText(
                shop.data.featured[i].price,
                313 + 122,
                200 + 192 + 65 + 298 * (i - i1Featured)
              );
            }
            if (price >= 100 &amp;&amp; price &lt; 1000) {
              ctx.drawImage(
                vbuck,
                313 + 100,
                200 + 192 + 42 + 298 * (i - i1Featured),
                25,
                25
              );
              ctx.fillText(
                shop.data.featured[i].price,
                313 + 129,
                200 + 192 + 65 + 298 * (i - i1Featured)
              );
            }
            if (price >= 10 &amp;&amp; price &lt; 100) {
              ctx.drawImage(
                vbuck,
                313 + 107,
                200 + 192 + 42 + 298 * (i - i1Featured),
                25,
                25
              );
              ctx.fillText(
                shop.data.featured[i].price,
                313 + 136,
                200 + 192 + 65 + 298 * (i - i1Featured)
              );
            }
            if (price >= 0 &amp;&amp; price &lt; 10) {
              ctx.drawImage(
                vbuck,
                313 + 114,
                200 + 192 + 42 + 298 * (i - i1Featured),
                25,
                25
              );
              ctx.fillText(
                shop.data.featured[i].price,
                313 + 143,
                200 + 192 + 65 + 298 * (i - i1Featured)
              );
            }
          }
        }
        for (
          let i = i1Featured + i2Featured;
          i &lt; i1Featured + i2Featured + i3Featured;
          i++
        ) {
          if (shop.data.featured[i].images.featured) {
            const { colorBorder, colorCenter, colorExt } = rarityCard(
              shop.data.featured[i].rarity
            );
            ctx.fillStyle = colorBorder;
            ctx.fillRect(
              611,
              200 + 298 * (i - (i1Featured + i2Featured)),
              268,
              268
            );
            const grd = ctx.createRadialGradient(
              611 + 3 + (268 - 3 * 2) / 2,
              200 +
              298 * (i - (i1Featured + i2Featured)) +
              3 +
              (268 - 3 * 2) / 2,
              4,
              (268 - 3 * 2) / 2 + 611 + 3,
              (268 - 3 * 2) / 2 +
              200 +
              298 * (i - (i1Featured + i2Featured)) +
              3,
              (268 - 3 * 2) * 0.8
            );
            grd.addColorStop(0, colorCenter);
            grd.addColorStop(1, colorExt);
            ctx.fillStyle = grd;
            ctx.fillRect(
              611 + 3,
              200 + 298 * (i - (i1Featured + i2Featured)) + 3,
              268 - 3 * 2,
              268 - 3 * 2
            );

            let item = await Canvas.loadImage(
              shop.data.featured[i].images.featured
            );
            ctx.drawImage(
              item,
              611 + 3,
              200 + 3 + 298 * (i - (i1Featured + i2Featured)),
              262,
              262
            );
            ctx.globalAlpha = 0.4;
            ctx.fillStyle = "#000000";
            ctx.fillRect(
              611 + 3,
              200 + 192 + 298 * (i - (i1Featured + i2Featured)),
              262,
              73
            );
            ctx.globalAlpha = 1;
            ctx.font = applyText(
              canvas,
              shop.data.featured[i].name,
              38,
              260,
              "Luckiest Guy"
            );
            ctx.fillStyle = "#ffffff";
            ctx.textAlign = "center";
            ctx.fillText(
              shop.data.featured[i].name,
              611 + 134,
              200 + 192 + 32 + 298 * (i - (i1Featured + i2Featured))
            );
            let price = shop.data.featured[i].price.replace(/[,]/gi, ""),
              vbuck = await Canvas.loadImage(
                shop.data.featured[i].priceIconLink
              );
            ctx.textAlign = "left";
            ctx.font = "30px Luckiest Guy";
            if (price >= 1000) {
              ctx.drawImage(
                vbuck,
                611 + 93,
                200 + 192 + 42 + 298 * (i - (i1Featured + i2Featured)),
                25,
                25
              );
              ctx.fillText(
                shop.data.featured[i].price,
                611 + 122,
                200 + 192 + 65 + 298 * (i - (i1Featured + i2Featured))
              );
            }
            if (price >= 100 &amp;&amp; price &lt; 1000) {
              ctx.drawImage(
                vbuck,
                611 + 100,
                200 + 192 + 42 + 298 * (i - (i1Featured + i2Featured)),
                25,
                25
              );
              ctx.fillText(
                shop.data.featured[i].price,
                611 + 129,
                200 + 192 + 65 + 298 * (i - (i1Featured + i2Featured))
              );
            }
            if (price >= 10 &amp;&amp; price &lt; 100) {
              ctx.drawImage(
                vbuck,
                611 + 107,
                200 + 192 + 42 + 298 * (i - (i1Featured + i2Featured)),
                25,
                25
              );
              ctx.fillText(
                shop.data.featured[i].price,
                611 + 136,
                200 + 192 + 65 + 298 * (i - (i1Featured + i2Featured))
              );
            }
            if (price >= 0 &amp;&amp; price &lt; 10) {
              ctx.drawImage(
                vbuck,
                611 + 114,
                200 + 192 + 42 + 298 * (i - (i1Featured + i2Featured)),
                25,
                25
              );
              ctx.fillText(
                shop.data.featured[i].price,
                611 + 143,
                200 + 192 + 65 + 298 * (i - (i1Featured + i2Featured))
              );
            }
          } else {
            const { colorBorder, colorCenter, colorExt } = rarityCard(
              shop.data.featured[i].rarity
            );
            ctx.fillStyle = colorBorder;
            ctx.fillRect(
              611,
              200 + 298 * (i - (i1Featured + i2Featured)),
              268,
              268
            );
            const grd = ctx.createRadialGradient(
              611 + 3 + (268 - 3 * 2) / 2,
              200 +
              298 * (i - (i1Featured + i2Featured)) +
              3 +
              (268 - 3 * 2) / 2,
              4,
              (268 - 3 * 2) / 2 + 611 + 3,
              (268 - 3 * 2) / 2 +
              200 +
              298 * (i - (i1Featured + i2Featured)) +
              3,
              (268 - 3 * 2) * 0.8
            );
            grd.addColorStop(0, colorCenter);
            grd.addColorStop(1, colorExt);
            ctx.fillStyle = grd;
            ctx.fillRect(
              611 + 3,
              200 + 298 * (i - (i1Featured + i2Featured)) + 3,
              268 - 3 * 2,
              268 - 3 * 2
            );

            let item = await Canvas.loadImage(
              shop.data.featured[i].images.icon
            );
            ctx.drawImage(
              item,
              611 + 3,
              200 + 3 + 298 * (i - (i1Featured + i2Featured)),
              262,
              262
            );
            ctx.globalAlpha = 0.4;
            ctx.fillStyle = "#000000";
            ctx.fillRect(
              611 + 3,
              200 + 192 + 298 * (i - (i1Featured + i2Featured)),
              262,
              73
            );
            ctx.globalAlpha = 1;
            ctx.font = applyText(
              canvas,
              shop.data.featured[i].name,
              38,
              260,
              "Luckiest Guy"
            );
            ctx.fillStyle = "#ffffff";
            ctx.textAlign = "center";
            ctx.fillText(
              shop.data.featured[i].name,
              611 + 134,
              200 + 192 + 32 + 298 * (i - (i1Featured + i2Featured))
            );
            let price = shop.data.featured[i].price.replace(/[,]/gi, ""),
              vbuck = await Canvas.loadImage(
                shop.data.featured[i].priceIconLink
              );
            ctx.textAlign = "left";
            ctx.font = "30px Luckiest Guy";
            if (price >= 1000) {
              ctx.drawImage(
                vbuck,
                611 + 93,
                200 + 192 + 42 + 298 * (i - (i1Featured + i2Featured)),
                25,
                25
              );
              ctx.fillText(
                shop.data.featured[i].price,
                611 + 122,
                200 + 192 + 65 + 298 * (i - (i1Featured + i2Featured))
              );
            }
            if (price >= 100 &amp;&amp; price &lt; 1000) {
              ctx.drawImage(
                vbuck,
                611 + 100,
                200 + 192 + 42 + 298 * (i - (i1Featured + i2Featured)),
                25,
                25
              );
              ctx.fillText(
                shop.data.featured[i].price,
                611 + 129,
                200 + 192 + 65 + 298 * (i - (i1Featured + i2Featured))
              );
            }
            if (price >= 10 &amp;&amp; price &lt; 100) {
              ctx.drawImage(
                vbuck,
                611 + 107,
                200 + 192 + 42 + 298 * (i - (i1Featured + i2Featured)),
                25,
                25
              );
              ctx.fillText(
                shop.data.featured[i].price,
                611 + 136,
                200 + 192 + 65 + 298 * (i - (i1Featured + i2Featured))
              );
            }
            if (price >= 0 &amp;&amp; price &lt; 10) {
              ctx.drawImage(
                vbuck,
                611 + 114,
                200 + 192 + 42 + 298 * (i - (i1Featured + i2Featured)),
                25,
                25
              );
              ctx.fillText(
                shop.data.featured[i].price,
                611 + 143,
                200 + 192 + 65 + 298 * (i - (i1Featured + i2Featured))
              );
            }
          }
        }
        for (let i = 0; i &lt; i1Daily; i++) {
          if (shop.data.daily[i].images.daily) {
            const { colorBorder, colorCenter, colorExt } = rarityCard(
              shop.data.daily[i].rarity
            );
            ctx.fillStyle = colorBorder;
            ctx.fillRect(939, 200 + 298 * i, 268, 268);
            const grd = ctx.createRadialGradient(
              939 + 3 + (268 - 3 * 2) / 2,
              200 + 298 * i + 3 + (268 - 3 * 2) / 2,
              4,
              (268 - 3 * 2) / 2 + 939 + 3,
              (268 - 3 * 2) / 2 + 200 + 298 * i + 3,
              (268 - 3 * 2) * 0.8
            );
            grd.addColorStop(0, colorCenter);
            grd.addColorStop(1, colorExt);
            ctx.fillStyle = grd;
            ctx.fillRect(939 + 3, 200 + 298 * i + 3, 268 - 3 * 2, 268 - 3 * 2);

            let item = await Canvas.loadImage(
              shop.data.featured[i].images.featured
            );
            ctx.drawImage(item, 939 + 3, 200 + 3 + 298 * i, 262, 262);
            ctx.globalAlpha = 0.4;
            ctx.fillStyle = "#000000";
            ctx.fillRect(939 + 3, 200 + 192 + 298 * i, 262, 73);
            ctx.globalAlpha = 1;
            ctx.font = applyText(
              canvas,
              shop.data.daily[i].name,
              38,
              260,
              "Luckiest Guy"
            );
            ctx.fillStyle = "#ffffff";
            ctx.textAlign = "center";
            ctx.fillText(
              shop.data.daily[i].name,
              939 + 134,
              200 + 192 + 32 + 298 * i
            );
            let price = shop.data.daily[i].price.replace(/[,]/gi, ""),
              vbuck = await Canvas.loadImage(shop.data.daily[i].priceIconLink);
            ctx.textAlign = "left";
            ctx.font = "30px Luckiest Guy";
            if (price >= 1000) {
              ctx.drawImage(vbuck, 939 + 93, 200 + 192 + 42 + 298 * i, 25, 25);
              ctx.fillText(
                shop.data.daily[i].price,
                939 + 122,
                200 + 192 + 65 + 298 * i
              );
            }
            if (price >= 100 &amp;&amp; price &lt; 1000) {
              ctx.drawImage(vbuck, 939 + 100, 200 + 192 + 42 + 298 * i, 25, 25);
              ctx.fillText(
                shop.data.daily[i].price,
                939 + 129,
                200 + 192 + 65 + 298 * i
              );
            }
            if (price >= 10 &amp;&amp; price &lt; 100) {
              ctx.drawImage(vbuck, 939 + 107, 200 + 192 + 42 + 298 * i, 25, 25);
              ctx.fillText(
                shop.data.daily[i].price,
                939 + 136,
                200 + 192 + 65 + 298 * i
              );
            }
            if (price >= 0 &amp;&amp; price &lt; 10) {
              ctx.drawImage(vbuck, 939 + 114, 200 + 192 + 42 + 298 * i, 25, 25);
              ctx.fillText(
                shop.data.daily[i].price,
                939 + 143,
                200 + 192 + 65 + 298 * i
              );
            }
          } else {
            const { colorBorder, colorCenter, colorExt } = rarityCard(
              shop.data.daily[i].rarity
            );
            ctx.fillStyle = colorBorder;
            ctx.fillRect(939, 200 + 298 * i, 268, 268);
            const grd = ctx.createRadialGradient(
              939 + 3 + (268 - 3 * 2) / 2,
              200 + 298 * i + 3 + (268 - 3 * 2) / 2,
              4,
              (268 - 3 * 2) / 2 + 939 + 3,
              (268 - 3 * 2) / 2 + 200 + 298 * i + 3,
              (268 - 3 * 2) * 0.8
            );
            grd.addColorStop(0, colorCenter);
            grd.addColorStop(1, colorExt);
            ctx.fillStyle = grd;
            ctx.fillRect(939 + 3, 200 + 298 * i + 3, 268 - 3 * 2, 268 - 3 * 2);

            let item = await Canvas.loadImage(shop.data.daily[i].images.icon);
            ctx.drawImage(item, 939 + 3, 200 + 3 + 298 * i, 262, 262);
            ctx.globalAlpha = 0.4;
            ctx.fillStyle = "#000000";
            ctx.fillRect(939 + 3, 200 + 192 + 298 * i, 262, 73);
            ctx.globalAlpha = 1;
            ctx.font = applyText(
              canvas,
              shop.data.daily[i].name,
              38,
              260,
              "Luckiest Guy"
            );
            ctx.fillStyle = "#ffffff";
            ctx.textAlign = "center";
            ctx.fillText(
              shop.data.daily[i].name,
              939 + 134,
              200 + 192 + 32 + 298 * i
            );
            let price = shop.data.daily[i].price.replace(/[,]/gi, ""),
              vbuck = await Canvas.loadImage(shop.data.daily[i].priceIconLink);
            ctx.textAlign = "left";
            ctx.font = "30px Luckiest Guy";
            if (price >= 1000) {
              ctx.drawImage(vbuck, 939 + 93, 200 + 192 + 42 + 298 * i, 25, 25);
              ctx.fillText(
                shop.data.daily[i].price,
                939 + 122,
                200 + 192 + 65 + 298 * i
              );
            }
            if (price >= 100 &amp;&amp; price &lt; 1000) {
              ctx.drawImage(vbuck, 939 + 100, 200 + 192 + 42 + 298 * i, 25, 25);
              ctx.fillText(
                shop.data.daily[i].price,
                939 + 129,
                200 + 192 + 65 + 298 * i
              );
            }
            if (price >= 10 &amp;&amp; price &lt; 100) {
              ctx.drawImage(vbuck, 939 + 107, 200 + 192 + 42 + 298 * i, 25, 25);
              ctx.fillText(
                shop.data.daily[i].price,
                939 + 136,
                200 + 192 + 65 + 298 * i
              );
            }
            if (price >= 0 &amp;&amp; price &lt; 10) {
              ctx.drawImage(vbuck, 939 + 114, 200 + 192 + 42 + 298 * i, 25, 25);
              ctx.fillText(
                shop.data.daily[i].price,
                939 + 143,
                200 + 192 + 65 + 298 * i
              );
            }
          }
        }
        for (let i = i1Daily; i &lt; i1Daily + i2Daily; i++) {
          if (shop.data.daily[i].images.daily) {
            const { colorBorder, colorCenter, colorExt } = rarityCard(
              shop.data.daily[i].rarity
            );
            ctx.fillStyle = colorBorder;
            ctx.fillRect(1237, 200 + 298 * (i - i1Daily), 268, 268);
            const grd = ctx.createRadialGradient(
              1237 + 3 + (268 - 3 * 2) / 2,
              200 + 298 * (i - i1Daily) + 3 + (268 - 3 * 2) / 2,
              4,
              (268 - 3 * 2) / 2 + 1237 + 3,
              (268 - 3 * 2) / 2 + 200 + 298 * (i - i1Daily) + 3,
              (268 - 3 * 2) * 0.8
            );
            grd.addColorStop(0, colorCenter);
            grd.addColorStop(1, colorExt);
            ctx.fillStyle = grd;
            ctx.fillRect(
              1237 + 3,
              200 + 298 * (i - i1Daily) + 3,
              268 - 3 * 2,
              268 - 3 * 2
            );

            let item = await Canvas.loadImage(shop.data.daily[i].images.daily);
            ctx.drawImage(
              item,
              1237 + 3,
              200 + 3 + 298 * (i - i1Daily),
              262,
              262
            );
            ctx.globalAlpha = 0.4;
            ctx.fillStyle = "#000000";
            ctx.fillRect(1237 + 3, 200 + 192 + 298 * (i - i1Daily), 262, 73);
            ctx.globalAlpha = 1;
            ctx.font = applyText(
              canvas,
              shop.data.daily[i].name,
              38,
              260,
              "Luckiest Guy"
            );
            ctx.fillStyle = "#ffffff";
            ctx.textAlign = "center";
            ctx.fillText(
              shop.data.daily[i].name,
              1237 + 134,
              200 + 192 + 32 + 298 * (i - i1Daily)
            );
            let price = shop.data.daily[i].price.replace(/[,]/gi, ""),
              vbuck = await Canvas.loadImage(shop.data.daily[i].priceIconLink);
            ctx.textAlign = "left";
            ctx.font = "30px Luckiest Guy";
            if (price >= 1000) {
              ctx.drawImage(
                vbuck,
                1237 + 93,
                200 + 192 + 42 + 298 * (i - i1Daily),
                25,
                25
              );
              ctx.fillText(
                shop.data.daily[i].price,
                1237 + 122,
                200 + 192 + 65 + 298 * (i - i1Daily)
              );
            }
            if (price >= 100 &amp;&amp; price &lt; 1000) {
              ctx.drawImage(
                vbuck,
                1237 + 100,
                200 + 192 + 42 + 298 * (i - i1Daily),
                25,
                25
              );
              ctx.fillText(
                shop.data.daily[i].price,
                1237 + 129,
                200 + 192 + 65 + 298 * (i - i1Daily)
              );
            }
            if (price >= 10 &amp;&amp; price &lt; 100) {
              ctx.drawImage(
                vbuck,
                1237 + 107,
                200 + 192 + 42 + 298 * (i - i1Daily),
                25,
                25
              );
              ctx.fillText(
                shop.data.daily[i].price,
                1237 + 136,
                200 + 192 + 65 + 298 * (i - i1Daily)
              );
            }
            if (price >= 0 &amp;&amp; price &lt; 10) {
              ctx.drawImage(
                vbuck,
                1237 + 114,
                200 + 192 + 42 + 298 * (i - i1Daily),
                25,
                25
              );
              ctx.fillText(
                shop.data.daily[i].price,
                1237 + 143,
                200 + 192 + 65 + 298 * (i - i1Daily)
              );
            }
          } else {
            const { colorBorder, colorCenter, colorExt } = rarityCard(
              shop.data.daily[i].rarity
            );
            ctx.fillStyle = colorBorder;
            ctx.fillRect(1237, 200 + 298 * (i - i1Daily), 268, 268);
            const grd = ctx.createRadialGradient(
              1237 + 3 + (268 - 3 * 2) / 2,
              200 + 298 * (i - i1Daily) + 3 + (268 - 3 * 2) / 2,
              4,
              (268 - 3 * 2) / 2 + 1237 + 3,
              (268 - 3 * 2) / 2 + 200 + 298 * (i - i1Daily) + 3,
              (268 - 3 * 2) * 0.8
            );
            grd.addColorStop(0, colorCenter);
            grd.addColorStop(1, colorExt);
            ctx.fillStyle = grd;
            ctx.fillRect(
              1237 + 3,
              200 + 298 * (i - i1Daily) + 3,
              268 - 3 * 2,
              268 - 3 * 2
            );

            let item = await Canvas.loadImage(shop.data.daily[i].images.icon);
            ctx.drawImage(
              item,
              1237 + 3,
              200 + 3 + 298 * (i - i1Daily),
              262,
              262
            );
            ctx.globalAlpha = 0.4;
            ctx.fillStyle = "#000000";
            ctx.fillRect(1237 + 3, 200 + 192 + 298 * (i - i1Daily), 262, 73);
            ctx.globalAlpha = 1;
            ctx.font = applyText(
              canvas,
              shop.data.daily[i].name,
              38,
              260,
              "Luckiest Guy"
            );
            ctx.fillStyle = "#ffffff";
            ctx.textAlign = "center";
            ctx.fillText(
              shop.data.daily[i].name,
              1237 + 134,
              200 + 192 + 32 + 298 * (i - i1Daily)
            );
            let price = shop.data.daily[i].price.replace(/[,]/gi, ""),
              vbuck = await Canvas.loadImage(shop.data.daily[i].priceIconLink);
            ctx.textAlign = "left";
            ctx.font = "30px Luckiest Guy";
            if (price >= 1000) {
              ctx.drawImage(
                vbuck,
                1237 + 93,
                200 + 192 + 42 + 298 * (i - i1Daily),
                25,
                25
              );
              ctx.fillText(
                shop.data.daily[i].price,
                1237 + 122,
                200 + 192 + 65 + 298 * (i - i1Daily)
              );
            }
            if (price >= 100 &amp;&amp; price &lt; 1000) {
              ctx.drawImage(
                vbuck,
                1237 + 100,
                200 + 192 + 42 + 298 * (i - i1Daily),
                25,
                25
              );
              ctx.fillText(
                shop.data.daily[i].price,
                1237 + 129,
                200 + 192 + 65 + 298 * (i - i1Daily)
              );
            }
            if (price >= 10 &amp;&amp; price &lt; 100) {
              ctx.drawImage(
                vbuck,
                1237 + 107,
                200 + 192 + 42 + 298 * (i - i1Daily),
                25,
                25
              );
              ctx.fillText(
                shop.data.daily[i].price,
                1237 + 136,
                200 + 192 + 65 + 298 * (i - i1Daily)
              );
            }
            if (price >= 0 &amp;&amp; price &lt; 10) {
              ctx.drawImage(
                vbuck,
                1237 + 114,
                200 + 192 + 42 + 298 * (i - i1Daily),
                25,
                25
              );
              ctx.fillText(
                shop.data.daily[i].price,
                1237 + 143,
                200 + 192 + 65 + 298 * (i - i1Daily)
              );
            }
          }
        }
        for (let i = i1Daily + i2Daily; i &lt; i1Daily + i2Daily + i3Daily; i++) {
          if (shop.data.daily[i].images.daily) {
            const { colorBorder, colorCenter, colorExt } = rarityCard(
              shop.data.daily[i].rarity
            );
            ctx.fillStyle = colorBorder;
            ctx.fillRect(1535, 200 + 298 * (i - (i1Daily + i2Daily)), 268, 268);
            const grd = ctx.createRadialGradient(
              1535 + 3 + (268 - 3 * 2) / 2,
              200 + 298 * (i - (i1Daily + i2Daily)) + 3 + (268 - 3 * 2) / 2,
              4,
              (268 - 3 * 2) / 2 + 1535 + 3,
              (268 - 3 * 2) / 2 + 200 + 298 * (i - (i1Daily + i2Daily)) + 3,
              (268 - 3 * 2) * 0.8
            );
            grd.addColorStop(0, colorCenter);
            grd.addColorStop(1, colorExt);
            ctx.fillStyle = grd;
            ctx.fillRect(
              1535 + 3,
              200 + 298 * (i - (i1Daily + i2Daily)) + 3,
              268 - 3 * 2,
              268 - 3 * 2
            );

            let item = await Canvas.loadImage(shop.data.daily[i].images.daily);
            ctx.drawImage(
              item,
              1535 + 3,
              200 + 3 + 298 * (i - (i1Daily + i2Daily)),
              262,
              262
            );
            ctx.globalAlpha = 0.4;
            ctx.fillStyle = "#000000";
            ctx.fillRect(
              1535 + 3,
              200 + 192 + 298 * (i - (i1Daily + i2Daily)),
              262,
              73
            );
            ctx.globalAlpha = 1;
            ctx.font = applyText(
              canvas,
              shop.data.daily[i].name,
              38,
              260,
              "Luckiest Guy"
            );
            ctx.fillStyle = "#ffffff";
            ctx.textAlign = "center";
            ctx.fillText(
              shop.data.daily[i].name,
              1535 + 134,
              200 + 192 + 32 + 298 * (i - (i1Daily + i2Daily))
            );
            let price = shop.data.daily[i].price.replace(/[,]/gi, ""),
              vbuck = await Canvas.loadImage(shop.data.daily[i].priceIconLink);
            ctx.textAlign = "left";
            ctx.font = "30px Luckiest Guy";
            if (price >= 1000) {
              ctx.drawImage(
                vbuck,
                1535 + 93,
                200 + 192 + 42 + 298 * (i - (i1Daily + i2Daily)),
                25,
                25
              );
              ctx.fillText(
                shop.data.daily[i].price,
                1535 + 122,
                200 + 192 + 65 + 298 * (i - (i1Daily + i2Daily))
              );
            }
            if (price >= 100 &amp;&amp; price &lt; 1000) {
              ctx.drawImage(
                vbuck,
                1535 + 100,
                200 + 192 + 42 + 298 * (i - (i1Daily + i2Daily)),
                25,
                25
              );
              ctx.fillText(
                shop.data.daily[i].price,
                1535 + 129,
                200 + 192 + 65 + 298 * (i - (i1Daily + i2Daily))
              );
            }
            if (price >= 10 &amp;&amp; price &lt; 100) {
              ctx.drawImage(
                vbuck,
                1535 + 107,
                200 + 192 + 42 + 298 * (i - (i1Daily + i2Daily)),
                25,
                25
              );
              ctx.fillText(
                shop.data.daily[i].price,
                1535 + 136,
                200 + 192 + 65 + 298 * (i - (i1Daily + i2Daily))
              );
            }
            if (price >= 0 &amp;&amp; price &lt; 10) {
              ctx.drawImage(
                vbuck,
                1535 + 114,
                200 + 192 + 42 + 298 * (i - (i1Daily + i2Daily)),
                25,
                25
              );
              ctx.fillText(
                shop.data.daily[i].price,
                1535 + 143,
                200 + 192 + 65 + 298 * (i - (i1Daily + i2Daily))
              );
            }
          } else {
            const { colorBorder, colorCenter, colorExt } = rarityCard(
              shop.data.daily[i].rarity
            );
            ctx.fillStyle = colorBorder;
            ctx.fillRect(1535, 200 + 298 * (i - (i1Daily + i2Daily)), 268, 268);
            const grd = ctx.createRadialGradient(
              1535 + 3 + (268 - 3 * 2) / 2,
              200 + 298 * (i - (i1Daily + i2Daily)) + 3 + (268 - 3 * 2) / 2,
              4,
              (268 - 3 * 2) / 2 + 1535 + 3,
              (268 - 3 * 2) / 2 + 200 + 298 * (i - (i1Daily + i2Daily)) + 3,
              (268 - 3 * 2) * 0.8
            );
            grd.addColorStop(0, colorCenter);
            grd.addColorStop(1, colorExt);
            ctx.fillStyle = grd;
            ctx.fillRect(
              1535 + 3,
              200 + 298 * (i - (i1Daily + i2Daily)) + 3,
              268 - 3 * 2,
              268 - 3 * 2
            );

            let item = await Canvas.loadImage(shop.data.daily[i].images.icon);
            ctx.drawImage(
              item,
              1535 + 3,
              200 + 3 + 298 * (i - (i1Daily + i2Daily)),
              262,
              262
            );
            ctx.globalAlpha = 0.4;
            ctx.fillStyle = "#000000";
            ctx.fillRect(
              1535 + 3,
              200 + 192 + 298 * (i - (i1Daily + i2Daily)),
              262,
              73
            );
            ctx.globalAlpha = 1;
            ctx.font = applyText(
              canvas,
              shop.data.daily[i].name,
              38,
              260,
              "Luckiest Guy"
            );
            ctx.fillStyle = "#ffffff";
            ctx.textAlign = "center";
            ctx.fillText(
              shop.data.daily[i].name,
              1535 + 134,
              200 + 192 + 32 + 298 * (i - (i1Daily + i2Daily))
            );
            let price = shop.data.daily[i].price.replace(/[,]/gi, ""),
              vbuck = await Canvas.loadImage(shop.data.daily[i].priceIconLink);
            ctx.textAlign = "left";
            ctx.font = "30px Luckiest Guy";
            if (price >= 1000) {
              ctx.drawImage(
                vbuck,
                1535 + 93,
                200 + 192 + 42 + 298 * (i - (i1Daily + i2Daily)),
                25,
                25
              );
              ctx.fillText(
                shop.data.daily[i].price,
                1535 + 122,
                200 + 192 + 65 + 298 * (i - (i1Daily + i2Daily))
              );
            }
            if (price >= 100 &amp;&amp; price &lt; 1000) {
              ctx.drawImage(
                vbuck,
                1535 + 100,
                200 + 192 + 42 + 298 * (i - (i1Daily + i2Daily)),
                25,
                25
              );
              ctx.fillText(
                shop.data.daily[i].price,
                1535 + 129,
                200 + 192 + 65 + 298 * (i - (i1Daily + i2Daily))
              );
            }
            if (price >= 10 &amp;&amp; price &lt; 100) {
              ctx.drawImage(
                vbuck,
                1535 + 107,
                200 + 192 + 42 + 298 * (i - (i1Daily + i2Daily)),
                25,
                25
              );
              ctx.fillText(
                shop.data.daily[i].price,
                1535 + 136,
                200 + 192 + 65 + 298 * (i - (i1Daily + i2Daily))
              );
            }
            if (price >= 0 &amp;&amp; price &lt; 10) {
              ctx.drawImage(
                vbuck,
                1535 + 114,
                200 + 192 + 42 + 298 * (i - (i1Daily + i2Daily)),
                25,
                25
              );
              ctx.fillText(
                shop.data.daily[i].price,
                1535 + 143,
                200 + 192 + 65 + 298 * (i - (i1Daily + i2Daily))
              );
            }
          }
        }
      }

      await fs.writeFileSync(path, canvas.toBuffer());

      return path;
    }
  }
};

module.exports = FortniteShop;</code></pre></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="mobile-nav-links"></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="X6qE5aHnIDlk7nsLtQz6N"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="Canvacard.html">Canvacard</a></div><div class="sidebar-section-children"><a href="FortniteShop.html">FortniteShop</a></div><div class="sidebar-section-children"><a href="FortniteStats.html">FortniteStats</a></div><div class="sidebar-section-children"><a href="Leaver.html">Leaver</a></div><div class="sidebar-section-children"><a href="Rank.html">Rank</a></div><div class="sidebar-section-children"><a href="Spotify.html">Spotify</a></div><div class="sidebar-section-children"><a href="Util.html">Util</a></div><div class="sidebar-section-children"><a href="Util.html">Util</a></div><div class="sidebar-section-children"><a href="Welcomer.html">Welcomer</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="yIGcSZLe2m4jkjvfzjzy2"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#CanvacardRankData">CanvacardRankData</a></div><div class="sidebar-section-children"><a href="global.html#ConvolutionMatrix">ConvolutionMatrix</a></div><div class="sidebar-section-children"><a href="global.html#Plugins">Plugins</a></div><div class="sidebar-section-children"><a href="global.html#SpotifyDataBG">SpotifyDataBG</a></div><div class="sidebar-section-children"><a href="global.html#SpotifyProgressBarData">SpotifyProgressBarData</a></div><div class="sidebar-section-children"><a href="global.html#applyText">applyText</a></div><div class="sidebar-section-children"><a href="global.html#formatVariable">formatVariable</a></div><div class="sidebar-section-children"><a href="global.html#formatVariable">formatVariable</a></div><div class="sidebar-section-children"><a href="global.html#formatVariable">formatVariable</a></div><div class="sidebar-section-children"><a href="global.html#load">load</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>